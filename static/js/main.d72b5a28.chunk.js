(this["webpackJsonpmovie-browser"]=this["webpackJsonpmovie-browser"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(7),s=c.n(a),i=c(5),o=c.n(i),l=c(8),j=c(14),u=c(10),b=c(3),d=c(2),v=function(e){var t=e.input,c=e.newSearch;Object(b.b)();return Object(d.jsx)("div",{className:"search-container",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",value:t,placeholder:"Search for a movie :)",onChange:function(e){return c(e.target.value)}}),t?Object(d.jsx)(u.a,{className:"search-clear",onClick:function(){return c("")}}):null]})})},O=c(4),h=Object(O.b)({name:"modalDetails",initialState:{details:""},reducers:{setModalDetails:function(e,t){e.details=t.payload},clearModalDetails:function(e){e.details=""}}}),m=h.actions,p=m.setModalDetails,x=m.clearModalDetails,f=h.reducer,g=function(e){var t=e.movie,c=Object(b.b)(),n=function(){var e=Object(l.a)(o.a.mark((function e(){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://www.omdbapi.com/?i=".concat(t.imdbID,"&apikey=b46dc190"),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:(a=e.sent)&&c(p(a)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"movie-element",onClick:function(){return n(t.imdbID)},children:[Object(d.jsx)("img",{src:t.Poster,alt:"poster unavailable"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h5",{children:t.Title}),Object(d.jsx)("p",{children:t.Year})]})]},t.Title)},w=function(e){var t=e.getModalDetails,c=Object(b.c)((function(e){return e.movieList})).movieList;return Object(d.jsx)(d.Fragment,{children:c.length>0&&Object(d.jsx)("div",{className:"list-container",children:c.map((function(e){return Object(d.jsx)(g,{movie:e,getModalDetails:t})}))})})},k=c(16),D=c(15),S=function(e){var t=e.setMovieModal,c=e.setFavorites,n=e.favorites,r=Object(b.c)((function(e){return e.modalDetails})).details,a=Object(b.b)();return Object(d.jsx)(d.Fragment,{children:r&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"modal-background",onClick:function(){return a(x())}}),Object(d.jsxs)("div",{className:"modal-container",children:[Object(d.jsx)(u.a,{className:"modal-close",onClick:function(){return t("")}}),Object(d.jsxs)("h4",{children:[r.Title," (",r.Year,")"]}),Object(d.jsx)("img",{src:r.Poster,alt:"".concat(r.Title," poster unavailable")}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Genre:"})," ",r.Genre]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Director:"})," ",r.Director]})]}),Object(d.jsx)("p",{children:r.Plot}),r.Ratings.map((function(e){return Object(d.jsxs)("p",{children:[Object(d.jsxs)("strong",{children:[e.Source,":"]})," ",e.Value]})})),Object(d.jsx)(D.a,{className:"favorite-button",onClick:function(){return c.apply(void 0,Object(k.a)(n).concat([r]))}})]})]})})},L=Object(O.b)({name:"movieList",initialState:{movieList:[]},reducers:{setMovieList:function(e,t){e.movieList=t.payload},clearList:function(e){e.movieList=[]}}}),M=L.actions,y=M.setMovieList,N=M.clearList,C=L.reducer,F=(c(27),function(){var e=Object(n.useState)(""),t=Object(j.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)([]),s=Object(j.a)(a,2),i=s[0],u=s[1],O=Object(b.b)(),h=function(){var e=Object(l.a)(o.a.mark((function e(t){var c,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c="https://www.omdbapi.com/?s=".concat(t,"&apikey=b46dc190"),e.next=4,fetch(c);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,console.log(r),r.Search&&O(y(r.Search)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h(c),""===c&&O(N())}),[c]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(v,{input:c,newSearch:r}),Object(d.jsx)(w,{}),Object(d.jsx)(S,{setFavorites:u,favorites:i})]})}),T=Object(O.a)({reducer:{movieSearch:f,movieList:C,modalDetails:f}});s.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(b.a,{store:T,children:Object(d.jsx)(F,{})})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.d72b5a28.chunk.js.map